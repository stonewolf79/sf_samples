{% extends 'flatpages/default.html' %} 
{% load custom_filters %}
{% block title %}–ù–æ–≤–æ—Å—Ç–∏{% endblock title %}
{% block content %}
<!-- —Å—á–∏—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤–æ—Å—Ç–µ–π, –∞ –Ω–µ –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π -->
<div align="left" style="width: 100%">
    –í—Å–µ–≥–æ –Ω–æ–≤–æ—Å—Ç–µ–π: {% newscnt name="N" %}
    <form action="/news/create" style="display: inline-block;"><input type="submit" value="–î–æ–±–∞–≤–∏—Ç—å –µ—â—ë –æ–¥–Ω—É"/></form>
</div>

<style>
    .form-control { display: inline-block }
</style>

<form action="" method="get">
    –ó–∞–≥–æ–ª–æ–≤–æ–∫ <input class="form-control" type="text" name="title__icontains">
    –°–æ–¥–µ—Ä–∂–∏–º–æ–µ <input class="form-control" type="text" name="text__icontains">
    –î–∞—Ç–∞ —Å <input class="form-control" type="date" name="created__gte">
	<input class="btn btn-outline-secondary" type="submit" value="–ù–∞–π—Ç–∏">
</form>

<table class="table table-primary">
    <thead>
        <th/>
        <th>–ó–∞–≥–æ–ª–æ–≤–æ–∫</th>
        <th>–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ</th>
        <th>–¢–µ–∫—Å—Ç</th>
        <th/>
    </thead>
    <tbody>
        {% for article in news %}
        {% if article.pType == "N" %}
        <tr>
            <td><a href="/news/{{ article.pk }}/edit">üìù</a></td>
            <td><a href="{{ article.pk }}">{{ article.title }}</a></td>
            <td style="padding-left:20px; padding-right:20px">{{ article.created|date:'y.m.d G:i:s' }}</td>
            <td>{{ article.text|truncatechars:20|censor }}</td>
            <td><a href="/news/{{ article.pk }}/delete">‚ùå</a></td>
        </tr>
        {% endif %}
        {% endfor %}
    </tbody>
</table>
<div>—Å—Ç—Ä–∞–Ω–∏—Ü: {{ page_obj.paginator.num_pages }}</div>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark static-top">
    <div class="container">
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                {% if page_obj.paginator.num_pages > 1 %}
                <li class="nav-item"><a class="nav-link" href="/news?{% url_replace page=1 %}">–ü–µ—Ä–≤–∞—è</a></li>
                {% if page_obj.has_previous %}
                <li class="nav-item"><a class="nav-link" href="/news?{% url_replace page=page_obj.previous_page_number %}">–ü—Ä–µ–¥—ã–¥—É—â–∞—è</a></li>
                {% endif %}
                {% if page_obj.has_next %}
                <li class="nav-item"><a class="nav-link" href="/news?{% url_replace page=page_obj.next_page_number %}">–°–ª–µ–¥—É—é—â–∞—è</a></li>
                {% endif %}
                <li class="nav-item"><a class="nav-link" href="/news?{% url_replace page=page_obj.paginator.num_pages %}">–ü–æ—Å–ª–µ–¥–Ω—è—è</a></li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>
{% endblock content %}
